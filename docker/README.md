
## 简介
Docker 使用Google 推出的 go语言进行开发实现，基于linux内核，对进程进行封装隔离，属于操作系统级的虚拟化技术

由于实现的进程隔离仿佛宿主机上开辟了一个独立空间，因此形象地称之为容器

相比传统的虚拟化，docker更加轻量， 一图对比二者差异

![docker vs vm](img/docker-containerized-and-vm-transparent-bg.png)

传统的虚拟化需要虚拟出一套硬件，再运行一套完整的操作系统，而容器的应用直接运行在宿主机的操作系统上

[官方文档](https://docs.docker.com/install/overview/)

## 概念
### 容器（Container）
容器的实质是进程，但与直接在宿主执行的进程不同，容器进程运行于属于自己的独立的`命名空间`(namespace)  

因此容器可以拥有自己的文件系统、网络配置、进程空间，甚至用户 ID 空间等  
容器内的进程是运行在一个隔离的环境里，使用起来，就好像是在一个独立于宿主的系统下操作一样。这种特性使得容器封装的应用比直接在宿主运行更加安全

### 镜像（Image）
镜像和容器的关系就像OO编程中的类和实例，镜像是静态的定义，容器是镜像的运行实体  

镜像提供了容器运行所需要的程序，依赖，配置等文件，还提供运行时说需要的配置参数

它并不是类似ISO形式的打包文件，镜像是一个抽象的概念，严格来说，镜像是一个多层文件系统  
镜像构建时，会一层层构建，前一层是后一层的基础。每一层构建完就不会再发生改变，后一层上的任何改变只发生在自己这一层

分层存储的特征还使得镜像的复用、定制变的更为容易。还可以用之前构建好的镜像作为基础层，然后进一步添加新的层，以定制自己所需的内容，构建新的镜像

### 仓库
docker 镜像构建完成后，在本机运行，就是一个容器。但如果要在其他地方运行，就需要一个集中存储和分发的地方, 这样的地方被称为注册中心（`Registry`）

这样的地方当然不只一个，官方Registry 叫`Docker Hub`, 也是默认的  
另外，很多云服务商也提供类似的服务  

一个Registry 有一个到多个仓库（`Repository`），仓库里存的就是镜像了，镜像可能有多个版本，因此存储时都会有一个对应的标签（tag）

由于一些众所周知的原因，国内访问国外的registry会很慢，甚至连不上  

因此国内的云服务商会提供镜像服务，也就是`Registry Mirror`，因为速度快，也被成为加速器


## 客户端命令
docker 的操作基本上是通过客户端命令，命令以`docker`起始， 形如：  
> docker [option] [comand]

可以输入
> `docker <command> --help` 查看命令行选项


